<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Sass::Tree::Visitors::Convert
  
    &mdash; Sass Documentation
  
</title>

  <link rel="stylesheet" href="../../../css/style-d9a989df.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../../../assets/css/docs-7a6c4a12.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../../';
  framesUrl = "../../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery-eb68cd33.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app-f07ff2e5.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../Sass.html" title="Sass (module)">Sass</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Tree.html" title="Sass::Tree (module)">Tree</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Visitors.html" title="Sass::Tree::Visitors (module)">Visitors</a></span></span>
     &raquo; 
    <span class="title">Convert</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Sass::Tree::Visitors::Convert
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Base.html" title="Sass::Tree::Visitors::Base (class)">Base</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Base.html" title="Sass::Tree::Visitors::Base (class)">Base</a></span></li>
          
            <li class="next">Sass::Tree::Visitors::Convert</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A visitor for converting a Sass tree into a source string.</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#visit-class_method" title="visit (class method)">+ (String) <strong>visit</strong>(root, options, format) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Runs the visitor on a tree.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Convert) <strong>initialize</strong>(options, format) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of Convert.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_atroot-instance_method" title="#visit_atroot (instance method)">- <strong>visit_atroot</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_charset-instance_method" title="#visit_charset (instance method)">- <strong>visit_charset</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_children-instance_method" title="#visit_children (instance method)">- <strong>visit_children</strong>(parent) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_comment-instance_method" title="#visit_comment (instance method)">- <strong>visit_comment</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_content-instance_method" title="#visit_content (instance method)">- <strong>visit_content</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_cssimport-instance_method" title="#visit_cssimport (instance method)">- <strong>visit_cssimport</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_debug-instance_method" title="#visit_debug (instance method)">- <strong>visit_debug</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_directive-instance_method" title="#visit_directive (instance method)">- <strong>visit_directive</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_each-instance_method" title="#visit_each (instance method)">- <strong>visit_each</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_extend-instance_method" title="#visit_extend (instance method)">- <strong>visit_extend</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_for-instance_method" title="#visit_for (instance method)">- <strong>visit_for</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_function-instance_method" title="#visit_function (instance method)">- <strong>visit_function</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_if-instance_method" title="#visit_if (instance method)">- <strong>visit_if</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_import-instance_method" title="#visit_import (instance method)">- <strong>visit_import</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_media-instance_method" title="#visit_media (instance method)">- <strong>visit_media</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_mixin-instance_method" title="#visit_mixin (instance method)">- <strong>visit_mixin</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_mixindef-instance_method" title="#visit_mixindef (instance method)">- <strong>visit_mixindef</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_prop-instance_method" title="#visit_prop (instance method)">- <strong>visit_prop</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_return-instance_method" title="#visit_return (instance method)">- <strong>visit_return</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_root-instance_method" title="#visit_root (instance method)">- <strong>visit_root</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Ensures proper spacing between top-level nodes.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_rule-instance_method" title="#visit_rule (instance method)">- <strong>visit_rule</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_supports-instance_method" title="#visit_supports (instance method)">- <strong>visit_supports</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_variable-instance_method" title="#visit_variable (instance method)">- <strong>visit_variable</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_warn-instance_method" title="#visit_warn (instance method)">- <strong>visit_warn</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#visit_while-instance_method" title="#visit_while (instance method)">- <strong>visit_while</strong>(node) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Base.html" title="Sass::Tree::Visitors::Base (class)">Base</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Base.html#node_name-class_method" title="Sass::Tree::Visitors::Base.node_name (method)">node_name</a></span>, <span class='object_link'><a href="Base.html#visit-instance_method" title="Sass::Tree::Visitors::Base#visit (method)">#visit</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Sass::Tree::Visitors::Convert (class)">Convert</a></span></tt>) <strong>initialize</strong>(options, format)  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of Convert</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15
16
17
18
19
20
21</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 15</span>

def initialize(options, format)
  @options = options
  @format = format
  @tabs = 0
  # 2 spaces by default
  @tab_chars = @options[:indent] || &quot;  &quot;
end</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="visit-class_method">
  
    + (<tt>String</tt>) <strong>visit</strong>(root, options, format) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Runs the visitor on a tree.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>root</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Node.html" title="Sass::Tree::Node (class)">Tree::Node</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The root node of the Sass tree.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>{Symbol =&gt; Object}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An options hash (see <span class='object_link'><a href="../../CSS.html#initialize-instance_method" title="Sass::CSS#initialize (method)">CSS#initialize</a></span>).</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>format</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><code>:sass</code> or <code>:scss</code>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The Sass or SCSS source for the tree.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 9</span>

def self.visit(root, options, format)
  new(options, format).send(:visit, root)
end</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="visit_atroot-instance_method">
  
    - <strong>visit_atroot</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


268
269
270
271
272
273
274
275
276
277</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 268</span>

def visit_atroot(node)
  if node.query
    &quot;#{tab_str}@at-root #{query_interp_to_src(node.query)}#{yield}&quot;
  elsif node.children.length == 1 &amp;&amp; node.children.first.is_a?(Sass::Tree::RuleNode)
    rule = node.children.first
    &quot;#{tab_str}@at-root #{selector_to_src(rule.rule)}#{visit_children(rule)}&quot;
  else
    &quot;#{tab_str}@at-root#{yield}&quot;
  end
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_charset-instance_method">
  
    - <strong>visit_charset</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 53</span>

def visit_charset(node)
  &quot;#{tab_str}@charset \&quot;#{node.name}\&quot;#{semi}\n&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_children-instance_method">
  
    - <strong>visit_children</strong>(parent)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


23
24
25
26
27
28
29
30
31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 23</span>

def visit_children(parent)
  @tabs += 1
  return @format == :sass ? &quot;\n&quot; : &quot; {}\n&quot; if parent.children.empty?
  if @format == :sass
    &quot;\n&quot;  + super.join.rstrip + &quot;\n&quot;
  else
    &quot; {\n&quot; + super.join.rstrip + &quot;\n#{ @tab_chars * (@tabs - 1)}}\n&quot;
  end
ensure
  @tabs -= 1
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_comment-instance_method">
  
    - <strong>visit_comment</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 57</span>

def visit_comment(node)
  value = interp_to_src(node.value)
  if @format == :sass
    content = value.gsub(/\*\/$/, &#39;&#39;).rstrip
    if content =~ /\A[ \t]/
      # Re-indent SCSS comments like this:
      #     /* foo
      #   bar
      #       baz */
      content.gsub!(/^/, &#39;   &#39;)
      content.sub!(/\A([ \t]*)\/\*/, &#39;/*\1&#39;)
    end

    if content.include?(&quot;\n&quot;)
      content.gsub!(/\n \*/, &quot;\n  &quot;)
      spaces = content.scan(/\n( *)/).map {|s| s.first.size}.min
      sep = node.type == :silent ? &quot;\n//&quot; : &quot;\n *&quot;
      if spaces &gt;= 2
        content.gsub!(/\n  /, sep)
      else
        content.gsub!(/\n#{&#39; &#39; * spaces}/, sep)
      end
    end

    content.gsub!(/\A\/\*/, &#39;//&#39;) if node.type == :silent
    content.gsub!(/^/, tab_str)
    content = content.rstrip + &quot;\n&quot;
  else
    spaces = (@tab_chars * [@tabs - value[/^ */].size, 0].max)
    content = if node.type == :silent
                value.gsub(/^[\/ ]\*/, &#39;//&#39;).gsub(/ *\*\/$/, &#39;&#39;)
              else
                value
              end.gsub(/^/, spaces) + &quot;\n&quot;
  end
  content
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_content-instance_method">
  
    - <strong>visit_content</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


224
225
226</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 224</span>

def visit_content(node)
  &quot;#{tab_str}@content#{semi}\n&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_cssimport-instance_method">
  
    - <strong>visit_cssimport</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


166
167
168
169
170
171
172
173
174</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 166</span>

def visit_cssimport(node)
  if node.uri.is_a?(Sass::Script::Tree::Node)
    str = &quot;#{tab_str}@import #{node.uri.to_sass(@options)}&quot;
  else
    str = &quot;#{tab_str}@import #{node.uri}&quot;
  end
  str &lt;&lt; &quot; #{interp_to_src(node.query)}&quot; unless node.query.empty?
  &quot;#{str}#{semi}\n&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_debug-instance_method">
  
    - <strong>visit_debug</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


95
96
97</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 95</span>

def visit_debug(node)
  &quot;#{tab_str}@debug #{node.expr.to_sass(@options)}#{semi}\n&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_directive-instance_method">
  
    - <strong>visit_directive</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


99
100
101
102
103
104</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 99</span>

def visit_directive(node)
  res = &quot;#{tab_str}#{interp_to_src(node.value)}&quot;
  res.gsub!(/^@import \#\{(.*)\}([^}]*)$/, &#39;@import \1\2&#39;)
  return res + &quot;#{semi}\n&quot; unless node.has_children
  res + yield + &quot;\n&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_each-instance_method">
  
    - <strong>visit_each</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


106
107
108
109</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 106</span>

def visit_each(node)
  vars = node.vars.map {|var| &quot;$#{dasherize(var)}&quot;}.join(&quot;, &quot;)
  &quot;#{tab_str}@each #{vars} in #{node.list.to_sass(@options)}#{yield}&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_extend-instance_method">
  
    - <strong>visit_extend</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


111
112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 111</span>

def visit_extend(node)
  &quot;#{tab_str}@extend #{selector_to_src(node.selector).lstrip}#{semi}&quot; +
    &quot;#{&quot; !optional&quot; if node.optional?}\n&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_for-instance_method">
  
    - <strong>visit_for</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


116
117
118
119</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 116</span>

def visit_for(node)
  &quot;#{tab_str}@for $#{dasherize(node.var)} from #{node.from.to_sass(@options)} &quot; +
    &quot;#{node.exclusive ? &quot;to&quot; : &quot;through&quot;} #{node.to.to_sass(@options)}#{yield}&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_function-instance_method">
  
    - <strong>visit_function</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


121
122
123
124
125
126
127
128
129
130
131</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 121</span>

def visit_function(node)
  args = node.args.map do |v, d|
    d ? &quot;#{v.to_sass(@options)}: #{d.to_sass(@options)}&quot; : v.to_sass(@options)
  end.join(&quot;, &quot;)
  if node.splat
    args &lt;&lt; &quot;, &quot; unless node.args.empty?
    args &lt;&lt; node.splat.to_sass(@options) &lt;&lt; &quot;...&quot;
  end

  &quot;#{tab_str}@function #{dasherize(node.name)}(#{args})#{yield}&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_if-instance_method">
  
    - <strong>visit_if</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 133</span>

def visit_if(node)
  name =
    if !@is_else
      &quot;if&quot;
    elsif node.expr
      &quot;else if&quot;
    else
      &quot;else&quot;
    end
  @is_else = false
  str = &quot;#{tab_str}@#{name}&quot;
  str &lt;&lt; &quot; #{node.expr.to_sass(@options)}&quot; if node.expr
  str &lt;&lt; yield
  @is_else = true
  str &lt;&lt; visit(node.else) if node.else
  str
ensure
  @is_else = false
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_import-instance_method">
  
    - <strong>visit_import</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


153
154
155
156</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 153</span>

def visit_import(node)
  quote = @format == :scss ? &#39;&quot;&#39; : &#39;&#39;
  &quot;#{tab_str}@import #{quote}#{node.imported_filename}#{quote}#{semi}\n&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_media-instance_method">
  
    - <strong>visit_media</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


158
159
160</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 158</span>

def visit_media(node)
  &quot;#{tab_str}@media #{query_interp_to_src(node.query)}#{yield}&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_mixin-instance_method">
  
    - <strong>visit_mixin</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 201</span>

def visit_mixin(node)
  arg_to_sass = lambda do |arg|
    sass = arg.to_sass(@options)
    sass = &quot;(#{sass})&quot; if arg.is_a?(Sass::Script::Tree::ListLiteral) &amp;&amp; arg.separator == :comma
    sass
  end

  unless node.args.empty? &amp;&amp; node.keywords.empty? &amp;&amp; node.splat.nil?
    args = node.args.map(&amp;arg_to_sass)
    keywords = Sass::Util.hash_to_a(node.keywords.as_stored).
      map {|k, v| &quot;$#{dasherize(k)}: #{arg_to_sass[v]}&quot;}

    if node.splat
      splat = &quot;#{arg_to_sass[node.splat]}...&quot;
      kwarg_splat = &quot;#{arg_to_sass[node.kwarg_splat]}...&quot; if node.kwarg_splat
    end

    arglist = &quot;(#{[args, splat, keywords, kwarg_splat].flatten.compact.join(&#39;, &#39;)})&quot;
  end
  &quot;#{tab_str}#{@format == :sass ? &#39;+&#39; : &#39;@include &#39;}&quot; +
    &quot;#{dasherize(node.name)}#{arglist}#{node.has_children ? yield : semi}\n&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_mixindef-instance_method">
  
    - <strong>visit_mixindef</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 176</span>

def visit_mixindef(node)
  args =
    if node.args.empty? &amp;&amp; node.splat.nil?
      &quot;&quot;
    else
      str = &#39;(&#39;
      str &lt;&lt; node.args.map do |v, d|
        if d
          &quot;#{v.to_sass(@options)}: #{d.to_sass(@options)}&quot;
        else
          v.to_sass(@options)
        end
      end.join(&quot;, &quot;)

      if node.splat
        str &lt;&lt; &quot;, &quot; unless node.args.empty?
        str &lt;&lt; node.splat.to_sass(@options) &lt;&lt; &#39;...&#39;
      end

      str &lt;&lt; &#39;)&#39;
    end

  &quot;#{tab_str}#{@format == :sass ? &#39;=&#39; : &#39;@mixin &#39;}#{dasherize(node.name)}#{args}#{yield}&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_prop-instance_method">
  
    - <strong>visit_prop</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


228
229
230
231
232</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 228</span>

def visit_prop(node)
  res = tab_str + node.declaration(@options, @format)
  return res + semi + &quot;\n&quot; if node.children.empty?
  res + yield.rstrip + semi + &quot;\n&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_return-instance_method">
  
    - <strong>visit_return</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


234
235
236</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 234</span>

def visit_return(node)
  &quot;#{tab_str}@return #{node.expr.to_sass(@options)}#{semi}\n&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_root-instance_method">
  
    - <strong>visit_root</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Ensures proper spacing between top-level nodes.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 36</span>

def visit_root(node)
  Sass::Util.enum_cons(node.children + [nil], 2).map do |child, nxt|
    visit(child) +
      if nxt &amp;&amp;
          (child.is_a?(Sass::Tree::CommentNode) &amp;&amp;
            child.line + child.lines + 1 == nxt.line) ||
          (child.is_a?(Sass::Tree::ImportNode) &amp;&amp; nxt.is_a?(Sass::Tree::ImportNode) &amp;&amp;
            child.line + 1 == nxt.line) ||
          (child.is_a?(Sass::Tree::VariableNode) &amp;&amp; nxt.is_a?(Sass::Tree::VariableNode) &amp;&amp;
            child.line + 1 == nxt.line)
        &quot;&quot;
      else
        &quot;\n&quot;
      end
  end.join.rstrip + &quot;\n&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_rule-instance_method">
  
    - <strong>visit_rule</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 238</span>

def visit_rule(node)
  rule = node.parsed_rules ? node.parsed_rules.to_a : node.rule
  if @format == :sass
    name = selector_to_sass(rule)
    name = &quot;\\&quot; + name if name[0] == ?:
    name.gsub(/^/, tab_str) + yield
  elsif @format == :scss
    name = selector_to_scss(rule)
    res = name + yield
    if node.children.last.is_a?(Sass::Tree::CommentNode) &amp;&amp; node.children.last.type == :silent
      res.slice!(-3..-1)
      res &lt;&lt; &quot;\n&quot; &lt;&lt; tab_str &lt;&lt; &quot;}\n&quot;
    end
    res
  end
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_supports-instance_method">
  
    - <strong>visit_supports</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


162
163
164</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 162</span>

def visit_supports(node)
  &quot;#{tab_str}@#{node.name} #{node.condition.to_src(@options)}#{yield}&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_variable-instance_method">
  
    - <strong>visit_variable</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257
258</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 255</span>

def visit_variable(node)
  &quot;#{tab_str}$#{dasherize(node.name)}: #{node.expr.to_sass(@options)}&quot; +
    &quot;#{&#39; !global&#39; if node.global}#{&#39; !default&#39; if node.guarded}#{semi}\n&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_warn-instance_method">
  
    - <strong>visit_warn</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


260
261
262</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 260</span>

def visit_warn(node)
  &quot;#{tab_str}@warn #{node.expr.to_sass(@options)}#{semi}\n&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="visit_while-instance_method">
  
    - <strong>visit_while</strong>(node)  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


264
265
266</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/usr/local/google-old/home/code/sass-site/.sass/lib/sass/tree/visitors/convert.rb', line 264</span>

def visit_while(node)
  &quot;#{tab_str}@while #{node.expr.to_sass(@options)}#{yield}&quot;
end</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri May 30 17:37:45 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.2 (ruby-2.0.0).
</div>



  </body>
</html>